<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Debugging services | Chris Miller’s 4th Blog</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Debugging services" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Simon Carter has a tip on debugging services. It boils down to calling the Windows Sleep API in your service constructor code. This gives your debugger enough time to attach the your process in time to step through the service start up code. Usually when you attach to a running process, it has already gone through it’s normal initialization code (“We now join this program already in progress”). If you are trying to diagnose a problem in the startup code, it’s already too late by the time you can attach to it. That is the joy that we call Windows Service programming." />
<meta property="og:description" content="Simon Carter has a tip on debugging services. It boils down to calling the Windows Sleep API in your service constructor code. This gives your debugger enough time to attach the your process in time to step through the service start up code. Usually when you attach to a running process, it has already gone through it’s normal initialization code (“We now join this program already in progress”). If you are trying to diagnose a problem in the startup code, it’s already too late by the time you can attach to it. That is the joy that we call Windows Service programming." />
<link rel="canonical" href="http://localhost:4000/2005/11/01/debugging-services/" />
<meta property="og:url" content="http://localhost:4000/2005/11/01/debugging-services/" />
<meta property="og:site_name" content="Chris Miller’s 4th Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2005-11-01T15:35:00-05:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Debugging services" />
<script type="application/ld+json">
{"datePublished":"2005-11-01T15:35:00-05:00","@type":"BlogPosting","url":"http://localhost:4000/2005/11/01/debugging-services/","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2005/11/01/debugging-services/"},"dateModified":"2005-11-01T15:35:00-05:00","description":"Simon Carter has a tip on debugging services. It boils down to calling the Windows Sleep API in your service constructor code. This gives your debugger enough time to attach the your process in time to step through the service start up code. Usually when you attach to a running process, it has already gone through it’s normal initialization code (“We now join this program already in progress”). If you are trying to diagnose a problem in the startup code, it’s already too late by the time you can attach to it. That is the joy that we call Windows Service programming.","headline":"Debugging services","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Chris Miller's 4th Blog" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Chris Miller&#39;s 4th Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Debugging services</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2005-11-01T15:35:00-05:00" itemprop="datePublished">Nov 1, 2005
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>Simon Carter has <a href="http://cc.borland.com/Item.aspx?id=21933" title="Debugging Services with Attach to Process">a tip</a> on debugging services. It boils down to calling the Windows Sleep API in your service constructor code. This gives your debugger enough time to attach the your process in time to step through the service start up code. Usually when you attach to a running process, it has already gone through it’s normal initialization code (“We now join this program already in progress”). If you are trying to diagnose a problem in the startup code, it’s already too late by the time you can attach to it. That is <a href="http://images.google.com/images?svnum=10&amp;hl=en&amp;lr=&amp;imgsz=xxlarge&amp;c2coff=1&amp;client=opera&amp;rls=en&amp;q=%22the+scream%22+munch&amp;btnG=Search" title="the joy">the joy</a> that we call Windows Service programming.</p>

<p>I prefer to take a different tack for debugging a service. I separate the code of what the service is supposed to do from the actual service code. I’ll build a Windows App (or Winforms app) that calls the same code that the service would call. It’s much easier to debug the code from an application instead of a service. 99.9% of the time, the problem is not part of the service controller code, it’s the in the code that service uses. The other 0.01% of the time where the problem is in the service creation code, I just add a lines to send data to the Windows event log. This technique works well for Win32 Delphi and .NET programming.</p>

  </div><a class="u-url" href="/2005/11/01/debugging-services/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Chris Miller&#39;s 4th Blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Chris Miller&#39;s 4th Blog</li><li><a class="u-email" href="mailto:your-email@example.com">your-email@example.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/anotherlab"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">anotherlab</span></a></li><li><a href="https://www.twitter.com/anotherlab"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">anotherlab</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
