<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>When HTML encoding can bite you | Chris Miller’s 4th Blog</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="When HTML encoding can bite you" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I’ve been using TweetDeck to follow Twitter.  It’s a great app, but it has some quirks.  Like it’s ginormous memory usage.   Another is how it renders the text of a tweet. I’ve seen a few tweets go by where the text had HTML escape sequences instead of the text. " />
<meta property="og:description" content="I’ve been using TweetDeck to follow Twitter.  It’s a great app, but it has some quirks.  Like it’s ginormous memory usage.   Another is how it renders the text of a tweet. I’ve seen a few tweets go by where the text had HTML escape sequences instead of the text. " />
<link rel="canonical" href="http://localhost:4000/2009/10/29/when-html-encoding-can-bite-you/" />
<meta property="og:url" content="http://localhost:4000/2009/10/29/when-html-encoding-can-bite-you/" />
<meta property="og:site_name" content="Chris Miller’s 4th Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2009-10-29T06:08:00-04:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="When HTML encoding can bite you" />
<script type="application/ld+json">
{"datePublished":"2009-10-29T06:08:00-04:00","@type":"BlogPosting","url":"http://localhost:4000/2009/10/29/when-html-encoding-can-bite-you/","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2009/10/29/when-html-encoding-can-bite-you/"},"dateModified":"2009-10-29T06:08:00-04:00","description":"I’ve been using TweetDeck to follow Twitter.  It’s a great app, but it has some quirks.  Like it’s ginormous memory usage.   Another is how it renders the text of a tweet. I’ve seen a few tweets go by where the text had HTML escape sequences instead of the text. ","headline":"When HTML encoding can bite you","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Chris Miller's 4th Blog" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Chris Miller&#39;s 4th Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">When HTML encoding can bite you</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2009-10-29T06:08:00-04:00" itemprop="datePublished">Oct 29, 2009
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>I’ve been using <a href="http://tweetdeck.com/beta/">TweetDeck</a> to follow <a href="http://twitter.com/anotherlab">Twitter</a>.  It’s a great app, but it has some quirks.  Like it’s ginormous memory usage.   Another is how it renders the text of a tweet. I’ve seen a few tweets go by where the text had HTML escape sequences instead of the text. </p>

<p>This tweet is an example: <a href="http://twitter.com/KristiGustafson/status/5231052312">http://twitter.com/KristiGustafson/status/5231052312</a></p>

<p>It should display as:</p>

<blockquote>
  <p>City shelves happy hour: Many of you will be glad we aren’t this city — they’ve shelved their.. <a href="http://bit.ly/10QmUr">http://bit.ly/10QmUr</a></p>
</blockquote>

<p>In Tweetdeck, it displays as:</p>

<blockquote>
  <p>City shelves happy hour: Many of you will be glad we aren’t this city — they’ve shelved their.. <a href="http://bit.ly/10QmUr">http://bit.ly/10QmUr</a></p>
</blockquote>

<p>A screenshot of that tweet:</p>

<p><a href="https://i0.wp.com/lh6.ggpht.com/_natoSxTaPFU/SukjT4LJoPI/AAAAAAAAAXE/HUVDdDrbalI/s1600-h/td%5B3%5D.png"><img loading="lazy" title="td" border="0" alt="td" src="https://i0.wp.com/lh6.ggpht.com/_natoSxTaPFU/SukjUH7I66I/AAAAAAAAAXI/Lbc7UlNYT6k/td_thumb%5B1%5D.png?resize=332%2C189" width="332" height="189" data-recalc-dims="1" /></a></p>

<p>If you view the link on Twitter, you’ll see the text the “right” way.  I couldn’t figure out what was wrong.  I posted a message in the TweetDeck support site and they couldn’t replicate the problem.  Then I looked at bottom line of the tweet.  It has been posted to Twitter from <a href="http://twitterfeed.com/">TwitterFeed</a>.  I had never heard of TwitterFeed, so I signed up for an account.</p>

<p>TwitterFeed is a free service that can scan your blog’s RSS feed and look for new blog postings.  It can then post the first 100 or so characters from the post to your Twitter and/or Facebook accounts.  And that’s where the problem occurs. </p>

<p>HTML and XML use <a href="http://www.w3.org/MarkUp/html-spec/html-spec_13.html">escape sequences to define special characters</a>.  What you see rendered in the browser is not literally the same text in the source for that page.  Literal characters like “&lt;” and “&gt;” have special meaning in XML and HTML.  To display those characters on the page, they needed to be encoded as &lt; and &gt; respectively.  It’s all magic that goes on behind the scenes, you usually are never aware of it.</p>

<p>When TwitterFeed gets the latest post from your blog, it’s pulling it from the RSS feed and the text is encoded with the right escape sequences.  They then call the Twitter and/or Facebook API to post that text.  They are sending HTML/XML encoded text to functions that are expecting plain text.  When Twitter displays that new blog posting as a tweet, it’s including the encoded text.  Your browser sees that encoding and decodes it back again.  Facebook on the other hand displays the text encoded.</p>

<p>TweetDeck isn’t a browser, it’s a desktop or mobile application.  It renders the tweets as plain text and assumes that the API call that it suing to get tweets from Twitter is sending back plain text.  So the question is where is it broken.  I’ve only seen this problem with entrties posted by TwitterFeed, I would be the first place I would look.  I think they will need to a HTML decode on the text that they are scraping from the RSS feed and send it as plain text to Twitter and Facebook API’s.</p>

<p>btw:  <a href="http://twitter.com/KristiGustafson">Kristi Gustafson</a> is worth following, even if her text is getting mangled by TwitterFeed.</p>

  </div><a class="u-url" href="/2009/10/29/when-html-encoding-can-bite-you/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Chris Miller&#39;s 4th Blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Chris Miller&#39;s 4th Blog</li><li><a class="u-email" href="mailto:your-email@example.com">your-email@example.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/anotherlab"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">anotherlab</span></a></li><li><a href="https://www.twitter.com/anotherlab"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">anotherlab</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
