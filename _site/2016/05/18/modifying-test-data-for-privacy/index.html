<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.26.2 by Michael Rose
  Copyright 2013-2024 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Modifying test data for privacy - Chris Miller’s 5th Blog</title>
<meta name="description" content="Sometimes I get actual live data from a client to track down a bug that only happens with their data.  That data will contain student records and we don’t like to have live student laying around.   We can use TDE to encrypt the data at rest, but if I’m sharing that data with other developers, I want to scrub identifying details from data set.">


  <meta name="author" content="Chris Miller">
  
  <meta property="article:author" content="Chris Miller">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Chris Miller's 5th Blog">
<meta property="og:title" content="Modifying test data for privacy">
<meta property="og:url" content="http://localhost:4000/2016/05/18/modifying-test-data-for-privacy/">


  <meta property="og:description" content="Sometimes I get actual live data from a client to track down a bug that only happens with their data.  That data will contain student records and we don’t like to have live student laying around.   We can use TDE to encrypt the data at rest, but if I’m sharing that data with other developers, I want to scrub identifying details from data set.">





  <meta name="twitter:site" content="@anotherlab">
  <meta name="twitter:title" content="Modifying test data for privacy">
  <meta name="twitter:description" content="Sometimes I get actual live data from a client to track down a bug that only happens with their data.  That data will contain student records and we don’t like to have live student laying around.   We can use TDE to encrypt the data at rest, but if I’m sharing that data with other developers, I want to scrub identifying details from data set.">
  <meta name="twitter:url" content="http://localhost:4000/2016/05/18/modifying-test-data-for-privacy/">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2016-05-18T00:00:00+00:00">






<link rel="canonical" href="http://localhost:4000/2016/05/18/modifying-test-data-for-privacy/">












<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Chris Miller's 5th Blog Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script type="text/javascript">
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Chris Miller's 5th Blog
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/posts/"
                
                
              >Posts</a>
            </li><li class="masthead__menu-item">
              <a
                href="/categories/"
                
                
              >Categories</a>
            </li><li class="masthead__menu-item">
              <a
                href="/tags/"
                
                
              >Tags</a>
            </li><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <a href="http://localhost:4000/">
        <img src="https://assets.about.me/background/users/t/h/i/thisischrismiller_1488935098_536.jpg" alt="Chris Miller" itemprop="image" class="u-photo">
      </a>
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url">Chris Miller</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>I am a Microsoft MVP, a Pluralsight Author, a Xamarin Certified Mobile Developer for iOS and Android, and the leader of the Tech Valley .NET User Group.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">Albany, NY</span>
        </li>
      

      
        
          
            <li><a href="https://" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
          
        
          
            <li><a href="https://bsky.app/profile/anotherlab.bsky.social" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-bluesky" aria-hidden="true"></i><span class="label">BlueSky</span></a></li>
          
        
          
            <li><a href="https://app.pluralsight.com/profile/author/christopher-miller" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fas fa-fw fa-chalkboard-teacher" aria-hidden="true"></i><span class="label">Pluralsight</span></a></li>
          
        
          
            <li><a href="https://github.com/anotherlab" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/christophermiller/" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
          
            <li><a href="https://instagram.com/anotherlab" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
          
        
          
            <li><a href="https://mvp.microsoft.com/en-us/PublicProfile/5000200" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fas fa-fw fa-award" aria-hidden="true"></i><span class="label">Microsoft MVP</span></a></li>
          
        
          
            <li><a href="https://stackoverflow.com/users/206/chris-miller" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-stack-overflow" aria-hidden="true"></i><span class="label">Stack Overflow</span></a></li>
          
        
          
            <li><a href="https://www.reddit.com/user/anotherlab/" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-reddit-alien" aria-hidden="true"></i><span class="label">Reddit</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
    
      
      
      
      
    
    
      <nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      
      
        <li>
          
            <span class="nav__sub-title">Links</span>
          

          
          <ul>
            
              <li><a href="https://bsky.app/profile/anotherlab.bsky.social">BlueSky</a></li>
            
              <li><a href="https://app.pluralsight.com/profile/author/christopher-miller">Pluralsight</a></li>
            
              <li><a href="https://github.com/anotherlab">GitHub</a></li>
            
          </ul>
          
        </li>
      
    
  </ul>
</nav>

    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Modifying test data for privacy">
    <meta itemprop="description" content="Sometimes I get actual live data from a client to track down a bug that only happens with their data.  That data will contain student records and we don’t like to have live student laying around.   We can use TDE to encrypt the data at rest, but if I’m sharing that data with other developers, I want to scrub identifying details from data set.">
    <meta itemprop="datePublished" content="2016-05-18T00:00:00+00:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="http://localhost:4000/2016/05/18/modifying-test-data-for-privacy/" itemprop="url">Modifying test data for privacy
</a>
          </h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>Sometimes I get actual live data from a client to track down a bug that only happens with their data.  That data will contain student records and we don’t like to have live student laying around.   We can use <a href="https://msdn.microsoft.com/en-us/library/bb934049.aspx">TDE</a> to encrypt the data at rest, but if I’m sharing that data with other developers, I want to scrub identifying details from data set.</p>

<p>For the most part, I just need to replace the first and last names from student table.  I could set both the first and last names to “<a href="http://www.ganksoft.com/">Gank</a>“, but if every record looks the same, it can be hard to see how the bug manifests itself.  I could set both attributes to the record id value for the record, but I find that hard to look at after a while.</p>

<p>What I end up is writing some sort of reubenizer code.  The reubenizer changes the first and last names to some variation of “Reuben”.</p>

<figure>
<a href="https://en.wikipedia.org/wiki/Dave_Madden"><img loading="lazy" class="" src="https://i0.wp.com/photos.smugmug.com/photos/i-jQWQ4m4/0/Th/i-jQWQ4m4-Th.jpg" /></a>
<figcaption>The Patron Saint of all that is Reuben</figcaption></figure>

<p>Let’s create a fake table to represent the student data to modify.</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="k">declare</span> <span class="o">@</span><span class="n">Student</span> <span class="k">TABLE</span>
<span class="p">(</span>
    <span class="n">RecordID</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>
    <span class="n">FirstName</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">80</span><span class="p">),</span>
    <span class="n">LastName</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">80</span><span class="p">),</span>
    <span class="n">Gender</span> <span class="nb">char</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- Push in some fake data</span>
<span class="k">insert</span> <span class="k">into</span> <span class="o">@</span><span class="n">Student</span> <span class="p">(</span><span class="n">RecordID</span><span class="p">,</span> <span class="n">FirstName</span><span class="p">,</span> <span class="n">LastName</span><span class="p">,</span> <span class="n">Gender</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="s1">'Joe'</span><span class="p">,</span> <span class="s1">'Smith'</span><span class="p">,</span> <span class="s1">'M'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="o">@</span><span class="n">Student</span> <span class="p">(</span><span class="n">RecordID</span><span class="p">,</span> <span class="n">FirstName</span><span class="p">,</span> <span class="n">LastName</span><span class="p">,</span> <span class="n">Gender</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="s1">'Joel'</span><span class="p">,</span> <span class="s1">'Smith'</span><span class="p">,</span> <span class="s1">'M'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="o">@</span><span class="n">Student</span> <span class="p">(</span><span class="n">RecordID</span><span class="p">,</span> <span class="n">FirstName</span><span class="p">,</span> <span class="n">LastName</span><span class="p">,</span> <span class="n">Gender</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="s1">'Jane'</span><span class="p">,</span> <span class="s1">'Smith'</span><span class="p">,</span> <span class="s1">'F'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="o">@</span><span class="n">Student</span> <span class="p">(</span><span class="n">RecordID</span><span class="p">,</span> <span class="n">FirstName</span><span class="p">,</span> <span class="n">LastName</span><span class="p">,</span> <span class="n">Gender</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="s1">'Linda'</span><span class="p">,</span> <span class="s1">'Tokken'</span><span class="p">,</span> <span class="s1">'F'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="o">@</span><span class="n">Student</span> <span class="p">(</span><span class="n">RecordID</span><span class="p">,</span> <span class="n">FirstName</span><span class="p">,</span> <span class="n">LastName</span><span class="p">,</span> <span class="n">Gender</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="s1">'Samantha'</span><span class="p">,</span> <span class="s1">'Queen'</span><span class="p">,</span> <span class="s1">'F'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="o">@</span><span class="n">Student</span> <span class="p">(</span><span class="n">RecordID</span><span class="p">,</span> <span class="n">FirstName</span><span class="p">,</span> <span class="n">LastName</span><span class="p">,</span> <span class="n">Gender</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="s1">'Steve'</span><span class="p">,</span> <span class="s1">'Burton'</span><span class="p">,</span> <span class="s1">'M'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="o">@</span><span class="n">Student</span> <span class="p">(</span><span class="n">RecordID</span><span class="p">,</span> <span class="n">FirstName</span><span class="p">,</span> <span class="n">LastName</span><span class="p">,</span> <span class="n">Gender</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="s1">'Doug'</span><span class="p">,</span> <span class="s1">'Francis'</span><span class="p">,</span> <span class="s1">'M'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="o">@</span><span class="n">Student</span> <span class="p">(</span><span class="n">RecordID</span><span class="p">,</span> <span class="n">FirstName</span><span class="p">,</span> <span class="n">LastName</span><span class="p">,</span> <span class="n">Gender</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="s1">'Linda'</span><span class="p">,</span> <span class="s1">'McLinda'</span><span class="p">,</span> <span class="s1">'F'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="o">@</span><span class="n">Student</span> <span class="p">(</span><span class="n">RecordID</span><span class="p">,</span> <span class="n">FirstName</span><span class="p">,</span> <span class="n">LastName</span><span class="p">,</span> <span class="n">Gender</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="mi">9</span><span class="p">,</span> <span class="s1">'Paul'</span><span class="p">,</span> <span class="s1">'Davis'</span><span class="p">,</span> <span class="s1">'M'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="o">@</span><span class="n">Student</span> <span class="p">(</span><span class="n">RecordID</span><span class="p">,</span> <span class="n">FirstName</span><span class="p">,</span> <span class="n">LastName</span><span class="p">,</span> <span class="n">Gender</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="s1">'Ann'</span><span class="p">,</span> <span class="s1">'Davis'</span><span class="p">,</span> <span class="s1">'F'</span><span class="p">);</span></code></pre></figure>

<p>Running those statements will generate a result set that looks like this</p>

<figure class="highlight"><pre><code class="language-plaintext" data-lang="plaintext">RecordID FirstName        LastName         Gender
-------- ---------------- ---------------- ------
1        Joe              Smith            M
2        Joel             Smith            M
3        Jane             Smith            F
4        Linda            Tokken           F
5        Samantha         Queen            F
6        Steve            Burton           M
7        Doug             Francis          M
8        Linda            McLinda          F
9        Paul             Davis            M
10       Ann              Davis            F</code></pre></figure>

<p>The first thing I do is create a table with a set of surname prefixes.  These prefixes will be used with the string “Reuben” to create the new last names</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="c1">-- Create a table with some surname prefixes. </span>
<span class="c1">-- We'll pick the prefix from the last digit of the record id of the student.</span>
<span class="c1">-- We only do this so we don't have to look at the same name for every row</span>

<span class="k">declare</span> <span class="o">@</span><span class="n">Reuben</span> <span class="k">TABlE</span>
<span class="p">(</span>
    <span class="n">RecordID</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span>
    <span class="n">LastName</span> <span class="nb">varchar</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>
<span class="p">);</span>

<span class="c1">-- Pick 10 different prefixes</span>
<span class="k">insert</span> <span class="k">into</span> <span class="o">@</span><span class="n">Reuben</span> <span class="p">(</span><span class="n">RecordID</span><span class="p">,</span> <span class="n">LastName</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="s1">'1'</span><span class="p">,</span> <span class="s1">'Mc'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="o">@</span><span class="n">Reuben</span> <span class="p">(</span><span class="n">RecordID</span><span class="p">,</span> <span class="n">LastName</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="s1">'2'</span><span class="p">,</span> <span class="s1">'de '</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="o">@</span><span class="n">Reuben</span> <span class="p">(</span><span class="n">RecordID</span><span class="p">,</span> <span class="n">LastName</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="s1">'3'</span><span class="p">,</span> <span class="s1">'Del'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="o">@</span><span class="n">Reuben</span> <span class="p">(</span><span class="n">RecordID</span><span class="p">,</span> <span class="n">LastName</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="s1">'4'</span><span class="p">,</span> <span class="s1">'St '</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="o">@</span><span class="n">Reuben</span> <span class="p">(</span><span class="n">RecordID</span><span class="p">,</span> <span class="n">LastName</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="s1">'5'</span><span class="p">,</span> <span class="s1">'Van '</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="o">@</span><span class="n">Reuben</span> <span class="p">(</span><span class="n">RecordID</span><span class="p">,</span> <span class="n">LastName</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="s1">'6'</span><span class="p">,</span> <span class="s1">'Le '</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="o">@</span><span class="n">Reuben</span> <span class="p">(</span><span class="n">RecordID</span><span class="p">,</span> <span class="n">LastName</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="s1">'7'</span><span class="p">,</span> <span class="s1">'La'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="o">@</span><span class="n">Reuben</span> <span class="p">(</span><span class="n">RecordID</span><span class="p">,</span> <span class="n">LastName</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="s1">'8'</span><span class="p">,</span> <span class="s1">'Lo'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="o">@</span><span class="n">Reuben</span> <span class="p">(</span><span class="n">RecordID</span><span class="p">,</span> <span class="n">LastName</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="s1">'9'</span><span class="p">,</span> <span class="s1">'O</span><span class="se">''</span><span class="s1">'</span><span class="p">);</span>
<span class="k">insert</span> <span class="k">into</span> <span class="o">@</span><span class="n">Reuben</span> <span class="p">(</span><span class="n">RecordID</span><span class="p">,</span> <span class="n">LastName</span><span class="p">)</span> <span class="k">values</span> <span class="p">(</span><span class="s1">'0'</span><span class="p">,</span> <span class="s1">''</span><span class="p">);</span></code></pre></figure>

<p>Now it’s time to create the update statement to reubenize the names. To get the surname prefix, we’ll get the last digit of the record id. That will slice up the students into 10 different sets of last names. There are other ways of doing this, this one is quick and simple. You could do the same thing with the first name, but in this case, I’m just going to use “Reuben” for the boys and “Reubenette” for the girls, and tack on that last digit.</p>

<p>To make the code a little cleaner, I use a <a href="https://msdn.microsoft.com/en-us/library/ms190766.aspx">Common Table Expression</a> (or CTE) to create a calculated field for the last digit of the record id. If you are not familair with CTE’s, they let you build temporary result sets that only exist within the context of the SQL expression that they are in.  I blogged about using a CTE <a href="http://www.rajapet.com/2016/02/generating-new-row-numbers-in-sql-based-on-a-starting-value.html">here</a> and <a href="http://www.rajapet.com/2010/04/suppressing-repeated-column-value-in.html">there</a>.</p>

<p>That update statement would look something like this</p>

<figure class="highlight"><pre><code class="language-sql" data-lang="sql"><span class="c1">-- Using a CTE allows us to calculate the last digit just once</span>
<span class="k">WITH</span> <span class="n">cte</span> <span class="p">(</span><span class="n">recordid</span><span class="p">,</span> <span class="k">offset</span><span class="p">)</span> 
     <span class="k">AS</span> <span class="p">(</span><span class="k">SELECT</span> <span class="n">recordid</span><span class="p">,</span> 
                <span class="k">RIGHT</span><span class="p">(</span><span class="k">Cast</span><span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">recordid</span> <span class="k">AS</span> <span class="nb">VARCHAR</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span> <span class="k">AS</span> <span class="k">OffSet</span> 
         <span class="k">FROM</span>   <span class="o">@</span><span class="n">student</span> <span class="n">s</span><span class="p">)</span> 
<span class="k">UPDATE</span> <span class="n">s</span> 
<span class="k">SET</span>    <span class="n">s</span><span class="p">.</span><span class="n">lastname</span> <span class="o">=</span> <span class="n">Concat</span><span class="p">(</span><span class="n">r</span><span class="p">.</span><span class="n">lastname</span><span class="p">,</span> <span class="s1">'Reuben'</span><span class="p">),</span> 
       <span class="n">s</span><span class="p">.</span><span class="n">firstname</span> <span class="o">=</span> <span class="k">CASE</span> <span class="n">s</span><span class="p">.</span><span class="n">gender</span> 
                       <span class="k">WHEN</span> <span class="s1">'M'</span> <span class="k">THEN</span> <span class="n">Concat</span><span class="p">(</span><span class="s1">'Reuben-'</span><span class="p">,</span> <span class="n">cte</span><span class="p">.</span><span class="n">recordid</span><span class="p">)</span> 
                       <span class="k">ELSE</span> <span class="n">Concat</span><span class="p">(</span><span class="s1">'Reubenette-'</span><span class="p">,</span> <span class="n">cte</span><span class="p">.</span><span class="n">recordid</span><span class="p">)</span> 
                     <span class="k">END</span> 
<span class="k">FROM</span>   <span class="n">cte</span> 
       <span class="k">JOIN</span> <span class="o">@</span><span class="n">student</span> <span class="n">s</span> 
         <span class="k">ON</span> <span class="n">cte</span><span class="p">.</span><span class="n">recordid</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">recordid</span> 
       <span class="k">JOIN</span> <span class="o">@</span><span class="n">Reuben</span> <span class="n">r</span> 
         <span class="k">ON</span> <span class="n">r</span><span class="p">.</span><span class="n">recordid</span> <span class="o">=</span> <span class="n">cte</span><span class="p">.</span><span class="k">offset</span><span class="p">;</span> </code></pre></figure>

<p>After running that update statement, the result set will look like this</p>

<figure class="highlight"><pre><code class="language-plaintext" data-lang="plaintext">RecordID FirstName        LastName         Gender
-------- ---------------- ---------------- ------
1        Reuben-1         McReuben         M
2        Reuben-2         de Reuben        M
3        Reubenette-3     DelReuben        F
4        Reubenette-4     St Reuben        F
5        Reubenette-5     Van Reuben       F
6        Reuben-6         Le Reuben        M
7        Reuben-7         LaReuben         M
8        Reubenette-8     LoReuben         F
9        Reuben-9         O'Reuben         M
10       Reubenette-10    Reuben           F</code></pre></figure>

<p>The records are no longer recognizable and are distinct enough to allow me to debug the problem. This doesn’t work for every kind of data element, but it allows me to work with and share live data with out displaying any personal identification.</p>

        
      </section>

      <footer class="page__meta">
        
        


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2016-05-18T00:00:00+00:00">May 18, 2016</time></p>

      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?via=anotherlab&text=Modifying+test+data+for+privacy%20http%3A%2F%2Flocalhost%3A4000%2F2016%2F05%2F18%2Fmodifying-test-data-for-privacy%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2F2016%2F05%2F18%2Fmodifying-test-data-for-privacy%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/2016/05/18/modifying-test-data-for-privacy/" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/2016/05/06/found-the-cause-for-adb-error-message-could-not-open-interface-e00002c5/" class="pagination--pager" title="Found the cause for ADB error message “Could not open interface: e00002c5”
">Previous</a>
    
    
      <a href="/2016/12/18/quick-powershell-tip-for-avoiding-file-name-collisions-when-you-have-images-from-multiple-cameras/" class="pagination--pager" title="Quick Powershell tip for avoiding file name collisions when you have images from multiple cameras
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You May Also Enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/11/16/hacking-csproj-user/" rel="permalink">How to force Visual Studio to update the debug device for a MAUI project
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">When I’m writing code for .NET MAUI in Visual Studio, I often use actual devices. I’m working on a app that uses BLE and you really can’t test that with an e...</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/04/18/vtt-2-srt/" rel="permalink">Using PowerShell to convert VTT to SRT
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Converting between VTT and SRT
So I have to convert between VTT and SRT a few times a year. I’m lazy and forgetful so I decided to script the tasks with Powe...</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/04/13/adb-stay-on/" rel="permalink">Command for keeping your phone awake while plugged in
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">

Usually when I’m writing .NET MAUI code for Android, I use an emulator to test the code. It’s fast and there are fewer things that can go wrong. And most o...</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/03/10/CFBundleShortVersionString/" rel="permalink">Breaking and then fixing my app’s CFBundleShortVersionString
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">

So I had this bug reported where the app was reporting the wrong version number. Only for iOS, it was correct on Android. It’s an app created with .NET MAU...</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://bsky.app/profile/anotherlab.bsky.social" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-bluesky" aria-hidden="true"></i> Bluesky</a></li>
        
      
        
          <li><a href="https://github.com/anotherlab" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/christophermiller/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://instagram.com/anotherlab" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
        
          <li><a href="https://mvp.microsoft.com/en-us/PublicProfile/5000200" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-award" aria-hidden="true"></i> Microsoft MVP</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 <a href="http://localhost:4000">Chris Miller's 5th Blog</a>. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    <script>
  'use strict';

  (function () {
    var commentContainer = document.querySelector('#giscus-comments');

    if (!commentContainer) {
      return;
    }

    var script = document.createElement('script');

    script.setAttribute('src', 'https://giscus.app/client.js');
    script.setAttribute('data-repo', 'anotherlab/anotherlab.github.io');
    script.setAttribute('data-repo-id', '');
    script.setAttribute('data-category', '');
    script.setAttribute('data-category-id', '');
    script.setAttribute('data-mapping', 'pathname');
    script.setAttribute('data-strict', '0');
    script.setAttribute('data-reactions-enabled', '1');
    script.setAttribute('data-emit-metadata', '0');
    script.setAttribute('data-input-position', 'top');
    script.setAttribute('data-theme', 'light');
    script.setAttribute('data-lang',  'en');
    
    script.setAttribute('crossorigin', 'anonymous');

    script.setAttribute('async', '');

    commentContainer.appendChild(script);
  })();
</script>

  




  </body>
</html>
