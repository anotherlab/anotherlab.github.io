<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Migrating to Delphi 2006 - Chris Miller’s 4th Blog</title>
<meta name="description" content="I’ve been working on migrating our Delphi 5 code to Delphi 2006.  For the most part it’s been pretty straight forward, the fun part has been dealing with the assortment of 3rd party packages.  Some of them required new versions, others were not available and I had to migrate them myself.  I’ll save my DevExpress experiences for another post…">


  <meta name="author" content="Chris Miller">
  
  <meta property="article:author" content="Chris Miller">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Chris Miller's 4th Blog">
<meta property="og:title" content="Migrating to Delphi 2006">
<meta property="og:url" content="http://localhost:4000/2006/07/14/migrating-to-delphi-2006/">


  <meta property="og:description" content="I’ve been working on migrating our Delphi 5 code to Delphi 2006.  For the most part it’s been pretty straight forward, the fun part has been dealing with the assortment of 3rd party packages.  Some of them required new versions, others were not available and I had to migrate them myself.  I’ll save my DevExpress experiences for another post…">





  <meta name="twitter:site" content="@anotherlab">
  <meta name="twitter:title" content="Migrating to Delphi 2006">
  <meta name="twitter:description" content="I’ve been working on migrating our Delphi 5 code to Delphi 2006.  For the most part it’s been pretty straight forward, the fun part has been dealing with the assortment of 3rd party packages.  Some of them required new versions, others were not available and I had to migrate them myself.  I’ll save my DevExpress experiences for another post…">
  <meta name="twitter:url" content="http://localhost:4000/2006/07/14/migrating-to-delphi-2006/">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2006-07-14T21:01:00-04:00">






<link rel="canonical" href="http://localhost:4000/2006/07/14/migrating-to-delphi-2006/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Chris Miller",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Chris Miller's 4th Blog Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



<!-- Twitter cards -->
<meta name="twitter:site"    content="@anotherlab">
<meta name="twitter:creator" content="@">
<meta name="twitter:title"   content="Migrating to Delphi 2006">


<meta name="twitter:description" content="My personal blog, 4th version">




<meta name="twitter:card"  content="summary">
<meta name="twitter:image" content="https://assets.about.me/background/users/t/h/i/thisischrismiller_1488935098_536.jpg">


<!-- end of Twitter cards -->
    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--post">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Chris Miller's 4th Blog
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/posts/">Posts</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/">Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/">Tags</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Migrating to Delphi 2006</h1>
    <p class="post-meta"><time class="dt-published" datetime="2006-07-14T21:01:00-04:00" itemprop="datePublished">
        Jul 14, 2006
      </time></p>
      
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>I’ve been working on migrating our Delphi 5 code to <a href="http://www.borland.com/us/products/delphi/index.html">Delphi 2006</a>.  For the most part it’s been pretty straight forward, the <a href="http://www.fotosearch.com/IGS016/is150-149/">fun part</a> has been dealing with the assortment of 3rd party packages.  Some of them required new versions, others were not available and I had to migrate them myself.  I’ll save my <a href="http://www.devexpress.com/">DevExpress</a> experiences for another post…</p>

<p>Most of our Delphi code has been in Delphi 5 for a number of reasons.  We mainly stayed with it because it worked and did what we needed.  We did a complete rewrite of flagship app, <a href="http://www.versatrans.com/products/versatrans_rp.cfm">VersaTrans RP</a>, and Delphi 6 and Delphi 7 were released during that cycle.  Delphi 6 didn’t add any features that we needed and Delphi 7 came out during regression testing for RP.  It would have been insane to switch compilers during final testing.  I do use Delphi 7 for our web based application, <a href="http://www.versatrans.com/products/versatrans_e-link.cfm">e-Link RP</a>, mainly because of the SOAP functionality.  Now it’s time to round up the children and jump on the Delphi 2006 wagon.</p>

<p>One of the packages that I migrated up was <a href="http://sourceforge.net/projects/tpabbrevia/">Abbrevia</a>.  This is an Open Source compression toolkit that includes components for handling PKZip, CAB, TAR, and gzip formats.  It used to be a commercial product from <a href="http://www.turbopower.com/">Turbopower</a>, but a few years back it became Open Source when Turbopower was bought out by Los Vegas <a href="http://www.aristocratgaming.com/usa/home.asp">gaming company</a>.  Since going Open Source, development has come to a flying stop and nothing new has been released since 2004.  I had to tweak the package files somewhat to compile with Delphi 2006.</p>

<p>The distribution came with tons of file, and package files (.dpk) for every version of Delphi/C++Builder from 3 to 7.  I took the Delphi 7 package files and edited them outside Delphi to make Delphi 2006 packages out of them.  I probably could have done within Delphi, it was easy enough to do with <a href="http://www.textpad.com/">TextPad</a>.  I changed the names to match the compiler, Abbrevia uses the the compiler version to differentiate between the various package files.  B305_r70.dpk became B305_r100 and B305_d70 became B305_d100.  Except they didn’t include B305_d70, I had to use the Delphi 5 version B305_d50.</p>

<p>I also changed the file paths around.  There is a source folder and a packages folder.  I added a bin folder and edited the package files to place all of the compiled units in that folder.  I also need to explicitly add the source folder to the package’s source path.  Then I tried to compile.  The runtime package compiled without incident.  I moved it’s .bpl file to my system32 folder and moved to the design time package.  It failed to compile because it couldn’t find the DesignEditors unit.  The DesignEditors unit contains the base classes for implementing component editors.  You used to be able to have that unit in your runtime code, Borland has stopped allowing it.  It does come with Delphi, just not on the default search paths.</p>

<p>So I figured I could just add the path to DesignEditors.pas to the package search path.  Just add the path and <a href="http://www.jerrypournelle.com/reports/jerryp/bobs.html">Bob’s your uncle</a>.  Nope, didn’t work.  DesignEditors.pas has a typo in it. It’s missing a comma in the uses clause of the implementation section.  My first inclination was to just add the <a href="http://adamsmedia.stores.yahoo.net/cosupoyofors.html">idiot comma</a>, but it seemed like other things would have failed if that was the case.  I was doing it wrong.  Instead of adding the source path, I’m supposed to have added the <a href="http://delphi.about.com/od/beginners/a/aa032800a.htm">.dcp</a> compiled package, which is in DesignIDE.dcp.  Once I added that unit to the package’s requires list, everything was <a href="http://www.nasa.gov/images/content/105540main_image_feature_248a_ajh4.jpg">good to go</a>.</p>

<div>
  Tech Tags: <a href="http://technorati.com/tag/Delphi+2006" rel="tag">Delphi 2006</a> <a href="http://technorati.com/tag/Delphi+7" rel="tag">Delphi 7</a> <a href="http://technorati.com/tag/Delphi+5" rel="tag">Delphi 5</a> <a href="http://technorati.com/tag/Delphi" rel="tag">Delphi</a> <a href="http://technorati.com/tag/Abbrevia" rel="tag">Abbrevia</a> <a href="http://technorati.com/tag/TurboPower" rel="tag">TurboPower</a> <a href="http://technorati.com/tag/Open+Source" rel="tag">Open Source</a> <a href="http://technorati.com/tag/Code+migration" rel="tag">Code migration</a>
</div>

  </div><a class="u-url" href="/2006/07/14/migrating-to-delphi-2006/" hidden></a>
</article>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/anotherlab" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/anotherlab" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/christophermiller/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://instagram.com/anotherlab" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
        
          <li><a href="https://mvp.microsoft.com/en-us/PublicProfile/5000200" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-award" aria-hidden="true"></i> Microsoft MVP</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<<<<<<< HEAD
<div class="page__footer-copyright">&copy; 2025 Chris Miller. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>
=======
<div class="page__footer-copyright">&copy; 2024 Chris Miller. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>
>>>>>>> origin/main

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    <script>
  'use strict';

  (function () {
    var commentContainer = document.querySelector('#giscus-comments');

    if (!commentContainer) {
      return;
    }

    var script = document.createElement('script');
    script.setAttribute('src', 'https://giscus.app/client.js');
    script.setAttribute('data-repo', 'anotherlab/anotherlab.github.io');
    script.setAttribute('data-repo-id', '');
    script.setAttribute('data-category', '');
    script.setAttribute('data-category-id', '');
    script.setAttribute('data-mapping', 'pathname');
    script.setAttribute('data-reactions-enabled', '1');
    script.setAttribute('data-theme', 'light');
    script.setAttribute('crossorigin', 'anonymous');

    commentContainer.appendChild(script);
  })();
</script>
  





  </body>
</html>
