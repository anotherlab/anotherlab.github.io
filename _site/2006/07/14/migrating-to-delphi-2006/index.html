<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Migrating to Delphi 2006 | Chris Miller’s 4th Blog</title>
<meta name="generator" content="Jekyll v4.2.1" />
<meta property="og:title" content="Migrating to Delphi 2006" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="I’ve been working on migrating our Delphi 5 code to Delphi 2006.  For the most part it’s been pretty straight forward, the fun part has been dealing with the assortment of 3rd party packages.  Some of them required new versions, others were not available and I had to migrate them myself.  I’ll save my DevExpress experiences for another post…" />
<meta property="og:description" content="I’ve been working on migrating our Delphi 5 code to Delphi 2006.  For the most part it’s been pretty straight forward, the fun part has been dealing with the assortment of 3rd party packages.  Some of them required new versions, others were not available and I had to migrate them myself.  I’ll save my DevExpress experiences for another post…" />
<link rel="canonical" href="http://localhost:4000/2006/07/14/migrating-to-delphi-2006/" />
<meta property="og:url" content="http://localhost:4000/2006/07/14/migrating-to-delphi-2006/" />
<meta property="og:site_name" content="Chris Miller’s 4th Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2006-07-14T21:01:00-04:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Migrating to Delphi 2006" />
<script type="application/ld+json">
{"datePublished":"2006-07-14T21:01:00-04:00","@type":"BlogPosting","url":"http://localhost:4000/2006/07/14/migrating-to-delphi-2006/","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/2006/07/14/migrating-to-delphi-2006/"},"dateModified":"2006-07-14T21:01:00-04:00","description":"I’ve been working on migrating our Delphi 5 code to Delphi 2006.  For the most part it’s been pretty straight forward, the fun part has been dealing with the assortment of 3rd party packages.  Some of them required new versions, others were not available and I had to migrate them myself.  I’ll save my DevExpress experiences for another post…","headline":"Migrating to Delphi 2006","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Chris Miller's 4th Blog" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Chris Miller&#39;s 4th Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Migrating to Delphi 2006</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2006-07-14T21:01:00-04:00" itemprop="datePublished">Jul 14, 2006
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p>I’ve been working on migrating our Delphi 5 code to <a href="http://www.borland.com/us/products/delphi/index.html">Delphi 2006</a>.  For the most part it’s been pretty straight forward, the <a href="http://www.fotosearch.com/IGS016/is150-149/">fun part</a> has been dealing with the assortment of 3rd party packages.  Some of them required new versions, others were not available and I had to migrate them myself.  I’ll save my <a href="http://www.devexpress.com/">DevExpress</a> experiences for another post…</p>

<p>Most of our Delphi code has been in Delphi 5 for a number of reasons.  We mainly stayed with it because it worked and did what we needed.  We did a complete rewrite of flagship app, <a href="http://www.versatrans.com/products/versatrans_rp.cfm">VersaTrans RP</a>, and Delphi 6 and Delphi 7 were released during that cycle.  Delphi 6 didn’t add any features that we needed and Delphi 7 came out during regression testing for RP.  It would have been insane to switch compilers during final testing.  I do use Delphi 7 for our web based application, <a href="http://www.versatrans.com/products/versatrans_e-link.cfm">e-Link RP</a>, mainly because of the SOAP functionality.  Now it’s time to round up the children and jump on the Delphi 2006 wagon.</p>

<p>One of the packages that I migrated up was <a href="http://sourceforge.net/projects/tpabbrevia/">Abbrevia</a>.  This is an Open Source compression toolkit that includes components for handling PKZip, CAB, TAR, and gzip formats.  It used to be a commercial product from <a href="http://www.turbopower.com/">Turbopower</a>, but a few years back it became Open Source when Turbopower was bought out by Los Vegas <a href="http://www.aristocratgaming.com/usa/home.asp">gaming company</a>.  Since going Open Source, development has come to a flying stop and nothing new has been released since 2004.  I had to tweak the package files somewhat to compile with Delphi 2006.</p>

<p>The distribution came with tons of file, and package files (.dpk) for every version of Delphi/C++Builder from 3 to 7.  I took the Delphi 7 package files and edited them outside Delphi to make Delphi 2006 packages out of them.  I probably could have done within Delphi, it was easy enough to do with <a href="http://www.textpad.com/">TextPad</a>.  I changed the names to match the compiler, Abbrevia uses the the compiler version to differentiate between the various package files.  B305_r70.dpk became B305_r100 and B305_d70 became B305_d100.  Except they didn’t include B305_d70, I had to use the Delphi 5 version B305_d50.</p>

<p>I also changed the file paths around.  There is a source folder and a packages folder.  I added a bin folder and edited the package files to place all of the compiled units in that folder.  I also need to explicitly add the source folder to the package’s source path.  Then I tried to compile.  The runtime package compiled without incident.  I moved it’s .bpl file to my system32 folder and moved to the design time package.  It failed to compile because it couldn’t find the DesignEditors unit.  The DesignEditors unit contains the base classes for implementing component editors.  You used to be able to have that unit in your runtime code, Borland has stopped allowing it.  It does come with Delphi, just not on the default search paths.</p>

<p>So I figured I could just add the path to DesignEditors.pas to the package search path.  Just add the path and <a href="http://www.jerrypournelle.com/reports/jerryp/bobs.html">Bob’s your uncle</a>.  Nope, didn’t work.  DesignEditors.pas has a typo in it. It’s missing a comma in the uses clause of the implementation section.  My first inclination was to just add the <a href="http://adamsmedia.stores.yahoo.net/cosupoyofors.html">idiot comma</a>, but it seemed like other things would have failed if that was the case.  I was doing it wrong.  Instead of adding the source path, I’m supposed to have added the <a href="http://delphi.about.com/od/beginners/a/aa032800a.htm">.dcp</a> compiled package, which is in DesignIDE.dcp.  Once I added that unit to the package’s requires list, everything was <a href="http://www.nasa.gov/images/content/105540main_image_feature_248a_ajh4.jpg">good to go</a>.</p>

<div>
  Tech Tags: <a href="http://technorati.com/tag/Delphi+2006" rel="tag">Delphi 2006</a> <a href="http://technorati.com/tag/Delphi+7" rel="tag">Delphi 7</a> <a href="http://technorati.com/tag/Delphi+5" rel="tag">Delphi 5</a> <a href="http://technorati.com/tag/Delphi" rel="tag">Delphi</a> <a href="http://technorati.com/tag/Abbrevia" rel="tag">Abbrevia</a> <a href="http://technorati.com/tag/TurboPower" rel="tag">TurboPower</a> <a href="http://technorati.com/tag/Open+Source" rel="tag">Open Source</a> <a href="http://technorati.com/tag/Code+migration" rel="tag">Code migration</a>
</div>

  </div><a class="u-url" href="/2006/07/14/migrating-to-delphi-2006/" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Chris Miller&#39;s 4th Blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Chris Miller&#39;s 4th Blog</li><li><a class="u-email" href="mailto:your-email@example.com">your-email@example.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/anotherlab"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">anotherlab</span></a></li><li><a href="https://www.twitter.com/anotherlab"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">anotherlab</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
