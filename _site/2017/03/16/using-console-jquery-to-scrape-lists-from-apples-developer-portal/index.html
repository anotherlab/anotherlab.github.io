<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Using console jQuery to scrape lists from Apple’s developer portal. - Chris Miller’s 4th Blog</title>
<meta name="description" content="I needed to grab the lists of registered devices and developers from our company’s Apple Developer portal. Unless I’m being particularly obtuse (an outcome that I never rule out), Apple does not provide any means of exporting the lists.">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Chris Miller's 4th Blog">
<meta property="og:title" content="Using console jQuery to scrape lists from Apple’s developer portal.">
<meta property="og:url" content="http://localhost:4000/2017/03/16/using-console-jquery-to-scrape-lists-from-apples-developer-portal/">


  <meta property="og:description" content="I needed to grab the lists of registered devices and developers from our company’s Apple Developer portal. Unless I’m being particularly obtuse (an outcome that I never rule out), Apple does not provide any means of exporting the lists.">





  <meta name="twitter:site" content="@anotherlab">
  <meta name="twitter:title" content="Using console jQuery to scrape lists from Apple’s developer portal.">
  <meta name="twitter:description" content="I needed to grab the lists of registered devices and developers from our company’s Apple Developer portal. Unless I’m being particularly obtuse (an outcome that I never rule out), Apple does not provide any means of exporting the lists.">
  <meta name="twitter:url" content="http://localhost:4000/2017/03/16/using-console-jquery-to-scrape-lists-from-apples-developer-portal/">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2017-03-16T16:18:49-04:00">






<link rel="canonical" href="http://localhost:4000/2017/03/16/using-console-jquery-to-scrape-lists-from-apples-developer-portal/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Chris Miller",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Chris Miller's 4th Blog Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--post">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Chris Miller's 4th Blog
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/posts/">Posts</a>
            </li><li class="masthead__menu-item">
              <a href="/categories/">Categories</a>
            </li><li class="masthead__menu-item">
              <a href="/tags/">Tags</a>
            </li><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Using console jQuery to scrape lists from Apple&amp;#8217;s developer portal.</h1>
    <p class="post-meta"><time class="dt-published" datetime="2017-03-16T16:18:49-04:00" itemprop="datePublished">
        Mar 16, 2017
      </time>• 
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">Chris Miller</span></span></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <p><a data-flickr-embed="true" href="https://www.flickr.com/photos/sdfriend/4330975151/in/photolist-7AHo2n-5tBuY2-5nG9d6-6Cu6n2-7T7QyJ-nD838F-7MyVgs-pzHMvF-7ysfhx-9b3ShZ-7MyWku-pt1PC3-qSaNvv-JuyvL-mX572e-sFXPqw-fHoVpn-RxGQmA-3RHmqY-77JVVD-EJZUa-a7JZpq-pozp7V-8K6ixq-aE2eAY-89tkSQ-ehKgsz-6FDYaR-6EXDzC-4SEsTq-aE2eQu-9w4UWt-m28vsm-4mEXi1-6gtnrL-5TNHYc-6Ebjgh-4Etf7H-5XMUDS-sqw1z-5NB7fm-6Vwq72-sajUjG-4meALm-5pUpzM-43q6v9-7Nn6La-6vR16J-y2jVx-Mg8u" title="Scrape"><img loading="lazy" src="https://i2.wp.com/c1.staticflickr.com/5/4049/4330975151_b96ab89fc1_z.jpg?resize=640%2C426&#038;ssl=1" width="640" height="426" alt="Scrape" data-recalc-dims="1" /></a><br />
I needed to grab the lists of registered devices and developers from our company’s Apple Developer portal. Unless I’m being particularly obtuse (an outcome that I never rule out), Apple does not provide any means of exporting the lists.</p>

<p>Apple only allows 100 devices of each type (iPhone, iPad, iWhatever) to be registered as development devices. No matter how many iOS developers that you have at your company, 100 is the limit. And if you remove a device from that list, it still counts towards that total.  Once a year, you can reset the list and carry over the devices that you still need and drop off the ones that are not needed.  To make this easier to manage, I wanted to get a list of the devices and their ids and have the developers pick the ones that they still need.</p>

<p>So I wanted to export that list.  And Apple doesn’t let you export that list.  You can see it on the screen and work with the items in the list, but no export.  I figured that I wasn’t the only person dealing with that limitation so I did a quick search on Stack Overflow and found <a href="http://stackoverflow.com/a/29426740/206">this little gem</a>.</p>

<pre class="brush: jscript; title: ; notranslate" title="">var ids = ["Device ID"];
var names = ["Device Name"];
$("td[aria-describedby=grid-table_name]").each(function(){
    names.push($(this).html());
});
$("td[aria-describedby=grid-table_deviceNumber]").each(function(){
    ids.push($(this).html());
});

var output = "";
for (var index = 0; index &lt; ids.length; index++) {
    output += ids[index] + "\t" + names[index] + "\n";
}
console.log(output);</pre>

<p>To use that code, you would go to the list of devices in the browser. Then open up the developer tools for that browser. For example, in Chrome you would press F12 to open up the developer tools. Staying with the Chrome example, you would click on the Console tab in the developer tools and paste that Javascript code in and then press the Enter key. The code would execute within the domain of the page and generate a two column list of device ids and names.</p>

<p>To understand what that code does, you need to look at how the data is rendered on the page. The device list is stored in a HTML table, with each row looking like this</p>

<pre class="brush: xml; highlight: [5,7]; title: ; notranslate" title="">&lt;tr id="1" tabindex="-1" role="row" class="ui-widget-content jqgrow ui-row-ltr"&gt;
    &lt;td role="gridcell" style="text-align:center;display:none;width: 34px;" aria-describedby="grid-table_cb"&gt;
        &lt;input role="checkbox" type="checkbox" id="jqg_grid-table_1" class="cbox" name="jqg_grid-table_1"&gt;
    &lt;/td&gt;
    &lt;td role="gridcell" style="" class="ui-ellipsis bold" title="iPad" aria-describedby="grid-table_name"&gt;iPad&lt;/td&gt;
    &lt;td role="gridcell" style="display:none;" class="ui-ellipsis" title="c" aria-describedby="grid-table_status"&gt;c&lt;/td&gt;
    &lt;td role="gridcell" style="" class="ui-ellipsis" title="twletpb659m0ju078namuy8xnv2j0fzt1kytanfz" aria-describedby="grid-table_deviceNumber"&gt;twletpb659m0ju078namuy8xnv2j0fzt1kytanfz&lt;/td&gt;
&lt;/tr&gt;
</pre>

<p>Looking at the highlighted lines 6 and 9, we can see the device name and device id as the text of table cell tag. Each cell has a <a href="https://www.w3.org/TR/wai-aria/states_and_properties#aria-describedby">aria-describedby</a> attribute to identity the type of value being stored. We can search on the values of the attributes to locate the data that we want. Going back to the javascript, look at the following lines:</p>

<pre class="brush: jscript; title: ; notranslate" title="">var names = ["Device Name"];
$("td[aria-describedby=grid-table_name]").each(function(){
    names.push($(this).html());
});
</pre>

<p>The first line declares a Javascript array with an initial array element of “Device Name”. The next line performs a jQuery select for all of the &lt;td/&gt; elements that have attribute of aria-describedby with the value grid-table_name. The next part of the statement iterates over the list of matching &lt;td/&gt; elements and uses the jQuery html() to get the text value of the cell and add it to the array. We then can then do the same technique to get the device id and then build a list as a string and finally dump it to the browser’s console.</p>

<p>I also needed to the email addresses of all of our registered developers. The email addresses were not in a table, but part of a list. Each email address is wrapped inside a section element like this</p>

<pre class="brush: xml; highlight: [3,4,5,6,7,8]; title: ; notranslate" title="">&lt;section class="col-100 ng-scope"&gt;
  &lt;p ng-bind="::person.fullName" class="ng-binding"&gt;First Last&lt;/p&gt;
  &lt;a class="smaller ng-binding" 
    ng-bind="::person.email" 
    ng-href="mailto:first.last@yourcompany.com" 
    href="mailto:first.last@yourcompany.com"&gt;
    first.last@yourcompany.com
  &lt;/a&gt;
&lt;/section&gt;
</pre>

<p>I just needed the text part from the <a></a> element. Getting the email addresses was a simpler version of the code to get the devices. I just a jQuery select on the ng-bind attribute and matched on the value “::person.email”. That ended up being a single line of code to run in the browser’s developer console</p>

<pre class="brush: jscript; title: ; notranslate" title="">$('a[ng-bind="::person.email"]').each(function(){
  console.log($(this).text())
  });
</pre>

<p>And that’s how you can screen scrape data from a web page that doesn’t provide any support for exporting the data.</p>

<p>Bonus round<br />
The aria-describedby attribute is a commonly used accessibility element used to describe the element that the tag is part of. The “aria” part of the attribute name is an acronym for <a href="https://www.w3.org/TR/wai-aria/">Accessible Rich Internet Applications</a>. Among other things, it was designed to allow assisted reading devices help parse a page for users with visual difficulties. It’s a good technology to use on your web pages.</p>

  </div><a class="u-url" href="/2017/03/16/using-console-jquery-to-scrape-lists-from-apples-developer-portal/" hidden></a>
</article>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/anotherlab" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/anotherlab" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://instagram.com/anotherlab" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
        
          <li><a href="https://mvp.microsoft.com/en-us/PublicProfile/5000200" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-award" aria-hidden="true"></i> Microsoft MVP</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2021 Chris Miller. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    <script>
  'use strict';

  (function() {
    var commentContainer = document.querySelector('#utterances-comments');

    if (!commentContainer) {
      return;
    }

    var script = document.createElement('script');
    script.setAttribute('src', 'https://utteranc.es/client.js');
    script.setAttribute('repo', '');
    script.setAttribute('issue-term', 'pathname');
    
    script.setAttribute('theme', 'github-light');
    script.setAttribute('crossorigin', 'anonymous');

    commentContainer.appendChild(script);
  })();
</script>

  





  </body>
</html>
