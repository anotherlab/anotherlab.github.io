<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.26.2 by Michael Rose
  Copyright 2013-2024 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Add a POSH ADB to your Windows Terminal - Chris Miller’s 5th Blog</title>
<meta name="description" content="Windows Terminal is so close to being out of beta. It’s been my default CLI on Windows for about a year. I still don’t think in PowerShell, but I try to use PowerShell as my default shell. I just love how you can configure Terminal.">


  <meta name="author" content="Chris Miller">
  
  <meta property="article:author" content="Chris Miller">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Chris Miller's 5th Blog">
<meta property="og:title" content="Add a POSH ADB to your Windows Terminal">
<meta property="og:url" content="http://localhost:4000/2020/05/15/add-a-posh-adb-to-your-windows-terminal/">


  <meta property="og:description" content="Windows Terminal is so close to being out of beta. It’s been my default CLI on Windows for about a year. I still don’t think in PowerShell, but I try to use PowerShell as my default shell. I just love how you can configure Terminal.">





  <meta name="twitter:site" content="@anotherlab">
  <meta name="twitter:title" content="Add a POSH ADB to your Windows Terminal">
  <meta name="twitter:description" content="Windows Terminal is so close to being out of beta. It’s been my default CLI on Windows for about a year. I still don’t think in PowerShell, but I try to use PowerShell as my default shell. I just love how you can configure Terminal.">
  <meta name="twitter:url" content="http://localhost:4000/2020/05/15/add-a-posh-adb-to-your-windows-terminal/">

  
    <meta name="twitter:card" content="summary">
    
  

  



  <meta property="article:published_time" content="2020-05-15T13:35:19+00:00">






<link rel="canonical" href="http://localhost:4000/2020/05/15/add-a-posh-adb-to-your-windows-terminal/">












<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Chris Miller's 5th Blog Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script type="text/javascript">
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Chris Miller's 5th Blog
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/posts/"
                
                
              >Posts</a>
            </li><li class="masthead__menu-item">
              <a
                href="/categories/"
                
                
              >Categories</a>
            </li><li class="masthead__menu-item">
              <a
                href="/tags/"
                
                
              >Tags</a>
            </li><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <a href="http://localhost:4000/">
        <img src="https://assets.about.me/background/users/t/h/i/thisischrismiller_1488935098_536.jpg" alt="Chris Miller" itemprop="image" class="u-photo">
      </a>
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url">Chris Miller</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>I am a Microsoft MVP, a Pluralsight Author, a Xamarin Certified Mobile Developer for iOS and Android, and the leader of the Tech Valley .NET User Group.</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">Albany, NY</span>
        </li>
      

      
        
          
            <li><a href="https://" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fas fa-fw fa-link" aria-hidden="true"></i><span class="label">Website</span></a></li>
          
        
          
            <li><a href="https://bsky.app/profile/anotherlab.bsky.social" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-bluesky" aria-hidden="true"></i><span class="label">BlueSky</span></a></li>
          
        
          
            <li><a href="https://app.pluralsight.com/profile/author/christopher-miller" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fas fa-fw fa-chalkboard-teacher" aria-hidden="true"></i><span class="label">Pluralsight</span></a></li>
          
        
          
            <li><a href="https://github.com/anotherlab" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/christophermiller/" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
          
            <li><a href="https://instagram.com/anotherlab" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
          
        
          
            <li><a href="https://mvp.microsoft.com/en-us/PublicProfile/5000200" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fas fa-fw fa-award" aria-hidden="true"></i><span class="label">Microsoft MVP</span></a></li>
          
        
          
            <li><a href="https://stackoverflow.com/users/206/chris-miller" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-stack-overflow" aria-hidden="true"></i><span class="label">Stack Overflow</span></a></li>
          
        
          
            <li><a href="https://www.reddit.com/user/anotherlab/" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-reddit-alien" aria-hidden="true"></i><span class="label">Reddit</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Add a POSH ADB to your Windows Terminal">
    <meta itemprop="description" content="Windows Terminal is so close to being out of beta. It’s been my default CLI on Windows for about a year. I still don’t think in PowerShell, but I try to use PowerShell as my default shell. I just love how you can configure Terminal.">
    <meta itemprop="datePublished" content="2020-05-15T13:35:19+00:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="http://localhost:4000/2020/05/15/add-a-posh-adb-to-your-windows-terminal/" itemprop="url">Add a POSH ADB to your Windows Terminal
</a>
          </h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p><a href="https://www.microsoft.com/en-us/p/windows-terminal-preview/9n0dx20hk701?activetab=pivot:overviewtab">Windows Terminal</a> is <a href="https://devblogs.microsoft.com/commandline/windows-terminal-preview-v0-11-release/">so close</a> to being out of beta. It’s been my default CLI on Windows for about a year. I still don’t think in PowerShell, but I try to use PowerShell as my default shell. I just love how you can configure Terminal.</p>

<p>The default shell for me is PowerShell <s>Core</s>, aka <a href="https://devblogs.microsoft.com/powershell/announcing-powershell-7-0/">Powershell 7.0</a>. Out of the box, it doesn’t have <a href="https://developer.android.com/studio/command-line/adb">ADB</a> on the path. When I’m doing Android stuff, I want the ADB. But I don’t want it to be on the path by default. Just like Visual Studio has the “Android ADB Command Prompt” menu option, I wanted to add shell option to Terminals so I can spin up a new PowerShell, but with ADB support. This is what I ended up with:</p>

<figure>
<img src="https://i1.wp.com/photos.smugmug.com/Blog/n-zwT5d/2020/i-VkJnhDq/0/f4461e23/L/shellabd-L.png" alt="" /> <figcaption>PowerShell with ADB goodness.</figcaption></figure>

<p>The first thing I did was to create a PowerShell script that just adds the ADB tooling to the path. My first attempt was:</p>

<figure class="highlight"><pre><code class="language-powershell" data-lang="powershell"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre></td><td class="code"><pre><span class="nv">$NeedsAdb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">$true</span><span class="w">

</span><span class="kr">foreach</span><span class="w"> </span><span class="p">(</span><span class="nv">$p</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">Path</span><span class="o">.</span><span class="nf">Split</span><span class="p">(</span><span class="s2">";"</span><span class="p">))</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="nv">$p</span><span class="w"> </span><span class="o">-match</span><span class="w"> </span><span class="s2">"android-sdk\\platform"</span><span class="p">)</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nv">$NeedsAdb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">$false</span><span class="w">
        </span><span class="kr">break</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="nv">$NeedsAdb</span><span class="p">)</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="n">write-host</span><span class="w"> </span><span class="s2">"Adding Android SDK Platform tools to path"</span><span class="w">
    </span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">Path</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s2">";C:\Program Files (x86)\Android\android-sdk\platform-tools"</span><span class="w">
</span><span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></figure>

<p>It walks through the path and checks to see the folder with the ADB bits is already there. If not, it gets added. That worked but seemed like a lot. I did a quick refactor and got it down to this</p>

<figure class="highlight"><pre><code class="language-powershell" data-lang="powershell"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="code"><pre><span class="nv">$NeedsAdb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">$true</span><span class="w">

</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">Path</span><span class="o">.</span><span class="nf">Split</span><span class="p">(</span><span class="s2">";"</span><span class="p">)</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">ForEach-Object</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="bp">$_</span><span class="w"> </span><span class="o">-match</span><span class="w"> </span><span class="s2">"android-sdk\\platform"</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nv">$NeedsAdb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">$false</span><span class="w">
        </span><span class="kr">break</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="nv">$NeedsAdb</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="n">write-host</span><span class="w"> </span><span class="s2">"Adding Android SDK Platform tools to path"</span><span class="w">
    </span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">Path</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s2">";C:\Program Files (x86)\Android\android-sdk\platform-tools"</span><span class="w">
</span><span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></figure>

<p>A little cleaner, but still too much. I was taking the path, splitting it up into an array of strings, and then testing each string. But wait, the path is a string. That made it simpler. Instead of doing a string match on each folder the path, I can make one string match against the whole thing.</p>

<figure class="highlight"><pre><code class="language-powershell" data-lang="powershell"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="code"><pre><span class="kr">if</span><span class="w"> </span><span class="p">(</span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">Path</span><span class="w"> </span><span class="o">-NotMatch</span><span class="w"> </span><span class="s2">"Android\\android-sdk\\platform"</span><span class="p">)</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="n">write-host</span><span class="w"> </span><span class="s2">"Adding Android SDK Platform tools to path"</span><span class="w">
    </span><span class="nv">$</span><span class="nn">env</span><span class="p">:</span><span class="nv">Path</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s2">";</span><span class="nv">${env:ProgramFiles(x86)}</span><span class="s2">\Android\android-sdk\platform-tools"</span><span class="w">
</span><span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></figure>

<p>So I called that one add-adb.ps1 and saved it to a common folder that I put scripts in. Next, I wanted a cosmetic tweak so that I knew which shell has the power of ADB. I went to <a href="http://materialdesignicons.com/">materialdesignicons.com</a> and did a search on “Android”. I found an icon named “android-debug-bridge”, which was perfect. I downloaded the .svg version of the icon and then made a .png file out of it with PhotoShop. I named it android-debug-bridge.png. Then I made a smaller version to be the icon. You can grab the images and the .ps1 file from the following Gist link: <a href="https://gist.github.com/anotherlab/364e3805d9ea56b574b394127acc9aa6">https://gist.github.com/anotherlab/364e3805d9ea56b574b394127acc9aa6</a></p>

<p>Now that I had the script and the images, it’s time to add a new shell profile. From within Windows Terminal, select “Settings” from the drop-down menu. You can also press the CTRL+, shortcut. This will load the settings.json file in the text editor of your choice. I have Visual Studio Code registered as the default app for JSON files. You can use a lesser editor, but that’s on you.</p>

<p>There will be an array of objects named “list”. These objects are the different shells that can be run from within Windows Terminals. I added the following item to the list array</p>

<p> </p>

<figure class="highlight"><pre><code class="language-javascript" data-lang="javascript"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre></td><td class="code"><pre><span class="dl">"</span><span class="s2">list</span><span class="dl">"</span><span class="p">:</span>
<span class="p">[</span>
    <span class="p">{</span>
        <span class="dl">"</span><span class="s2">guid</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">{50caca3f-bff1-4891-b7f7-e3a05c040003}</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">fontFace</span><span class="dl">"</span><span class="p">:</span>  <span class="dl">"</span><span class="s2">Cascadia Code PL</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">backgroundImage</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">d:/grfx/android-debug-bridge.png</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">backgroundImageStretchMode</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">uniform</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">backgroundImageOpacity</span><span class="dl">"</span><span class="p">:</span> <span class="mf">0.15</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">hidden</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">name</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">ADB PowerShell</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">icon</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">d:/grfx/adb-32.png</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">commandline</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">pwsh.exe -noe -c D:/scripts/add-adb.ps1</span><span class="dl">"</span>
    <span class="p">},</span>
<span class="p">]</span>
</pre></td></tr></tbody></table></code></pre></figure>

<p>Let’s go over this line by line.</p>

<table>
  <thead>
    <tr>
      <th>Field</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>guid</td>
      <td>It wants a GUID, so just get one. I used <a href="https://www.guidgenerator.com/">guidgenerator.com</a>, but any GUID generator will do.</td>
    </tr>
    <tr>
      <td>FontFace</td>
      <td>I’m using the Powerline version of Cascadia. More on that in a bit</td>
    </tr>
    <tr>
      <td>backgroundImage</td>
      <td>Grab it from my <a href="https://gist.github.com/anotherlab/364e3805d9ea56b574b394127acc9aa6#file-android-debug-bridge-png">Gist</a> or use your own.</td>
    </tr>
    <tr>
      <td>backgroundImageStretchMode <span style="background-color: rgba(30, 30, 30, 0.2); font-family: inherit; font-size: inherit; font-weight: inherit;"></span></td>
      <td>Size the image to fit the Shell window</td>
    </tr>
    <tr>
      <td>backgroundImageOpacity</td>
      <td>I set it to be mostly transparent</td>
    </tr>
    <tr>
      <td>hidden</td>
      <td>If you want to hide this from the list of shells, just set it to True</td>
    </tr>
    <tr>
      <td>name</td>
      <td>Call it what you want</td>
    </tr>
    <tr>
      <td>icon</td>
      <td>The tab icon is optional, but you can grab it from my <a href="https://gist.github.com/anotherlab/364e3805d9ea56b574b394127acc9aa6#file-adb-32-png">Gist</a>.</td>
    </tr>
    <tr>
      <td>commandline</td>
      <td>This is what gets launched. The “-c” option says to run the next parameter and the “-noe” says not to exit after running the command</td>
    </tr>
  </tbody>
</table>

<p>And that lets me spin up a new PowerShell with ADB on the path. Mixing PowerShell with ADB makes it easier to do ADB commands that would normally be clunky. For example, I want to test some Android code that would access the photo gallery. When you new up a new Android emulator, there are no images. ADB lets copy files to the emulator’s filesystem, but it doesn’t do wild cards.</p>

<p>You may have notice the “/” slash being used instead of “\” for file paths. Windows Terminal lets you use the “/” as the directory separator and this avoids having to use “\” to get a single “\” in.</p>

<p>I have a folder with a bunch of images that I wanted to copy to an Android Emulator image. I then run the following command from PowerShell:</p>

<figure class="highlight"><pre><code class="language-powershell" data-lang="powershell"><span class="n">Get-ChildItem</span><span class="w"> </span><span class="o">.</span><span class="nx">\</span><span class="o">*</span><span class="w">  </span><span class="nt">-Include</span><span class="w"> </span><span class="o">*.</span><span class="nf">jpg</span><span class="p">,</span><span class="o">*.</span><span class="nf">png</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="n">Foreach-Object</span><span class="w"> </span><span class="p">{</span><span class="n">adb</span><span class="w"> </span><span class="nx">push</span><span class="w"> </span><span class="bp">$_</span><span class="o">.</span><span class="nf">Name</span><span class="w"> </span><span class="nx">/sdcard/Pictures</span><span class="p">}</span></code></pre></figure>

<p>Get-ChildItem gets a directory listing and I use the -Include parameter to only include the files that have the .jpg and .png extension. If I didn’t need to filter the files list, I could the aliases for Get-ChildItem of gci or ls. I then pipe the results into Foreach-Object. This will execute everything in the {} block for each item. $_.Name is the name of the file and that gets passed to adb push to copy that file to /sdcard/Pictures in the emulator. There’s a bit of typing, but it does save time when trying to copy a set of files over to Android.</p>

<p>About that “Cascadia Code PL” font face. I’m running a theming engine inside PowerShell called “Oh-my-posh”. I’ll do a longer post on it in the future, but the short story is that it makes the PowerShell prompt contain the current git status for the current folder. Read about it and get it <a href="https://github.com/JanDeDobbeleer/oh-my-posh">here</a>. On the Mac, I use <a href="https://ohmyz.sh/">Oh-my-zsh</a> to get a souped-up zsh shell. Scott Hanselman did a good write up of Oh-my-posh <a href="https://www.hanselman.com/blog/HowToMakeAPrettyPromptInWindowsTerminalWithPowerlineNerdFontsCascadiaCodeWSLAndOhmyposh.aspx">here</a>.</p>

<p>Oh-my-posh uses Powerline Glyphs (<a href="https://github.com/powerline/powerline">originally defined here</a>) as part of the status display. So you’ll need a font that includes the Powerline Glyphs. Microsoft’s Cascadia Code font has a version with Powerline and you can get it <a href="https://github.com/microsoft/cascadia-code/releases">here</a>. Here’s what that looked like when I was adding the files to the Gist</p>

<p><img src="https://i0.wp.com/photos.smugmug.com/Blog/n-zwT5d/2020/i-6GTWwch/0/f94c4d14/M/shellposh-M.png" alt="" /></p>

<p>You can see the color and text information change as I used git to add the icon to the Gist. When working with git, it’s very handy to easily see which branch you are working with and the current status of that branch.</p>

        
      </section>

      <footer class="page__meta">
        
        


  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#adb" class="page__taxonomy-item p-category" rel="tag">ADB</a><span class="sep">, </span>
    
      <a href="/categories/#android" class="page__taxonomy-item p-category" rel="tag">Android</a><span class="sep">, </span>
    
      <a href="/categories/#powershell" class="page__taxonomy-item p-category" rel="tag">PowerShell</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2020-05-15T13:35:19+00:00">May 15, 2020</time></p>

      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?via=anotherlab&text=Add+a+POSH+ADB+to+your+Windows+Terminal%20http%3A%2F%2Flocalhost%3A4000%2F2020%2F05%2F15%2Fadd-a-posh-adb-to-your-windows-terminal%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2F2020%2F05%2F15%2Fadd-a-posh-adb-to-your-windows-terminal%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http://localhost:4000/2020/05/15/add-a-posh-adb-to-your-windows-terminal/" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/2020/05/10/some-quick-improvements-for-the-home-video-conferencing-experience/" class="pagination--pager" title="Some quick improvements for the home video conferencing experience
">Previous</a>
    
    
      <a href="/2020/05/23/colored-notes-in-onenote/" class="pagination--pager" title="Colored notes in OneNote
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    
<div class="page__related">
  
  <h2 class="page__related-title">You May Also Enjoy</h2>
  <div class="grid__wrapper">
    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/03/05/poka-yoke/" rel="permalink">Poka-yoke
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">

So I used poka-yoke (ポカヨケ) in a conversation yesterday. I am working on an update to an app that uses a web service. Under an extreme edge condition, the a...</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/03/04/blog-refresh/" rel="permalink">Refresh of this blog
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">

The blog has been updated. Not just posts, all of the stuff that generates it. This wasn’t planned…

About two weeks ago, the boot drive of my PC failed. T...</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2025/02/06/bluesky/" rel="permalink">You can find me on Bluesky
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          less than 1 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">

I’ve been on Bluesky for a while now. I still have my account on the dead bird site, but I haven’t posted to it in ages. Not since Musk decided to burn bil...</p>
  </article>
</div>

    
      
      



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/2024/08/27/apples-api-needs-to-be-sorted/" rel="permalink">Apple needs to sort out their API
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          3 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">

I have some code that uses Apple’s AppConnect API to query App store related things. I wrote a C# script that I run from LINQPad that gives me a weekly sta...</p>
  </article>
</div>

    
  </div>
</div>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://bsky.app/profile/anotherlab.bsky.social" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-bluesky" aria-hidden="true"></i> Bluesky</a></li>
        
      
        
          <li><a href="https://github.com/anotherlab" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/christophermiller/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://instagram.com/anotherlab" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
        
          <li><a href="https://mvp.microsoft.com/en-us/PublicProfile/5000200" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-award" aria-hidden="true"></i> Microsoft MVP</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 <a href="http://localhost:4000">Chris Miller's 5th Blog</a>. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    <script>
  'use strict';

  (function () {
    var commentContainer = document.querySelector('#giscus-comments');

    if (!commentContainer) {
      return;
    }

    var script = document.createElement('script');

    script.setAttribute('src', 'https://giscus.app/client.js');
    script.setAttribute('data-repo', 'anotherlab/anotherlab.github.io');
    script.setAttribute('data-repo-id', '');
    script.setAttribute('data-category', '');
    script.setAttribute('data-category-id', '');
    script.setAttribute('data-mapping', 'pathname');
    script.setAttribute('data-strict', '0');
    script.setAttribute('data-reactions-enabled', '1');
    script.setAttribute('data-emit-metadata', '0');
    script.setAttribute('data-input-position', 'top');
    script.setAttribute('data-theme', 'light');
    script.setAttribute('data-lang',  'en');
    
    script.setAttribute('crossorigin', 'anonymous');

    script.setAttribute('async', '');

    commentContainer.appendChild(script);
  })();
</script>

  




  </body>
</html>
